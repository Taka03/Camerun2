//*============================================================================
//BGM.h
//*============================================================================
//[history]
//	08/03/16　作成
//[author]
//	Taka
//============================================================================
#pragma once

//=============================================================================
//include
//=============================================================================
#include "Sound.h"

//=============================================================================
//class
//=============================================================================
//[desc]
//	BGM再生用クラス
//=============================================================================
class CBGM :	public CSoundObject
{
	private:
	
		Sound::IStreamSound *m_pBGM;//BGM再生用デバイス
	
	public:
	
		CBGM( const char *pName );//コンストラクタ
		virtual ~CBGM(void);//デストラクタ
		
		virtual void LoadSound( ICore *pCore, File::IFileManager *pFileMgr );//サウンドの読み込み
		
		void Init(){};//初期化
		
		//再生
		void Play( Sound::SPlayBlock *pTbl, int count );
		
		void Exec();//処理
		
		void FadeOut();//フェードアウト
		
		void AddRef();//参照カウンタの増加
		
	/*Get系*/
	public:

		//効果音再生用デバイスの取得	
		Sound::IStreamSound *GetBGMDevice() const
		{
			return m_pBGM;
		}
		
};
